<ion-content [fullscreen]="true">

  <a routerLink="/tabs/puntos" class="container-start">
    <ion-text class="text">&lt; Atr√°s</ion-text>
  </a>

  <!-- Contenedor desplazable para las tarjetas -->
  <div class="scrollable-cards">
    <ion-card 
      class="card-minimalist" 
      *ngFor="let visita of visitas"
      [ngClass]="{
        'en-espera': visita.estado === 'En espera',
        'listo': visita.estado === 'Listo',
        'trabajando': visita.estado === 'Trabajando'
      }" 
      [routerLink]="['/edit-visit', visita.id]">
      
      <ion-card-header class="minimal-header">
        <h2 class="card-title">{{ visita.titulo }}</h2>
        <p class="card-date">{{ visita.fecha }}</p>
      </ion-card-header>

      <ion-card-content class="card-content-minimal">
        <div class="card-row">
          <span><strong>Cliente:</strong> {{ visita.cliente }}</span>
        </div>
        <div class="card-row">
          <span><strong>Motivo:</strong> {{ visita.motivo }}</span>
        </div>
        <div class="card-row">
          <span><strong>Tipo:</strong> {{ visita.tipo_tarjeta }}</span>
        </div>
        <div class="card-row status-row">
          <span><strong>Estado:</strong> {{ visita.estado }}</span>
        </div>
      </ion-card-content>

      <!-- Texto 'Editar' a la derecha -->
      <div class="editar-btn">
        <ion-text>Editar &gt;</ion-text>
      </div>
      
    </ion-card>
  </div>

  <!-- Texto cuando no hay tarjetas -->
  <div *ngIf="visitas.length === 0" class="no-cards-message">
    <p>No tienes agendaciones en espera</p>
  </div>

</ion-content>
